<!DOCTYPE html>
<html>
  <head>
    <title>Info Windows</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA0xTf748bvW5IyuzLW5tF7UeRcC9cYE3M&callback=initMap&libraries=&v=weekly"
      defer
    ></script>
    <style type="text/css">
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }

      /* Optional: Makes the sample page fill the window. */
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script>
      // This example displays a marker at the center of Australia.
      // When the user clicks the marker, an info window opens.
      function initMap() {
        // const uluru = { lat: -25.363, lng: 131.044 };
        const locations = [
        {
           name: "Toronto Pearson International Airport",
           code: "YYZ",
           lat: 43.6677, 
           lng: -79.6248,
           time: "7:45am",
           date: 2019-06-07,
        },

        {
           name: "Montreal-Pierre Elliot Trudeau International Airport",
           code: "YUL",
           lat: 45.4657, 
           lng: -73.7455,
           time: "9:12am",
           date: 2019-06-07, 
        },

        {
           name: "Halifax Stanfield International Airport",
           code: "YHZ",
           lat: 44.8865, 
           lng: -63.5153,
           time: "12:29pm",
           date: 2019-06-07,
        },

        {
           name: "St. John's International Airport",
           code: "YYT",
           lat: 47.6212, 
           lng: -52.7424,
           time: "3:18pm",
           date: 2019-06-07,
        },

        {
           name: "Ottawa International Airport",
           code: "YOW",
           lat: 45.3192, 
           lng: -75.6692,
           time: "8:36am",
           date: 2019-06-08,
        },

        {
           name: "London International Airport",
           code: "YXU",
           lat: 43.0265, 
           lng: -81.1507,
           time: "1:17pm",
           date: 2019-06-08,
        },

        {
           name: "Fredericton International Airport",
           code: "YFC",
           lat: 45.8728, 
           lng: -66.5297,
           time: "3:25pm",
           date: 2019-06-09,
        },

        {
           name: "Quebec city Jean Lesage International Airport",
           code: "YQB",
           lat: 46.7907, 
           lng: -71.3886,
           time: "10:56am",
           date: 2019-06-23,
        },

        {
           name: "Greater Moncton Romeo LeBlanc International Airport",
           code: "YQM",
           lat: 46.1162, 
           lng: -64.6884,
           time: "5:53pm",
           date: 2019-06-23,
        },

    ];
        
        const image = "images/airport.png";
        const mapVar = new google.maps.Map(document.getElementById("map"), {
          zoom: 5,
          center: { lat: 45.4042, lng: -71.8929 },
          mapTypeId: 'hybrid',
        });

        
        const contentString = `${locations.name}`;

        const infowindow = locations.map((location,i) => {
            return new google.maps.InfoWindow({
                content: contentString,
                position: location,
                map: mapVar,
            });
        });

        const marker = locations.map((location, i) => {
            return new google.maps.Marker({
                position: location,
                icon: image,
                map: mapVar,
            });
        });

        marker.addListener("click", () => {
          infowindow.open(mapVar, marker);
        });
      }

    </script>
  </head>
  <body>
    <div id="map"></div>
  </body>
</html>